const std = @import("std");

pub const notes = std.StaticStringMap(i64).initComptime(.{
    .{ "C1", 1 },
    .{ "Cs1", 2 },
    .{ "Db1", 2 },
    .{ "D1", 3 },
    .{ "Ds1", 4 },
    .{ "Eb1", 4 },
    .{ "E1", 5 },
    .{ "F1", 6 },
    .{ "Fs1", 7 },
    .{ "Gb1", 7 },
    .{ "G1", 8 },
    .{ "Gs1", 9 },
    .{ "Ab1", 9 },
    .{ "A1", 10 },
    .{ "As1", 11 },
    .{ "Bb1", 11 },
    .{ "B1", 12 },

    .{ "C2", 13 },
    .{ "Cs2", 14 },
    .{ "Db2", 14 },
    .{ "D2", 15 },
    .{ "Ds2", 16 },
    .{ "Eb2", 16 },
    .{ "E2", 17 },
    .{ "F2", 18 },
    .{ "Fs2", 19 },
    .{ "Gb2", 19 },
    .{ "G2", 20 },
    .{ "Gs2", 21 },
    .{ "Ab2", 21 },
    .{ "A2", 22 },
    .{ "As2", 23 },
    .{ "Bb2", 23 },
    .{ "B2", 24 },

    .{ "C3", 25 },
    .{ "Cs3", 26 },
    .{ "Db3", 26 },
    .{ "D3", 27 },
    .{ "Ds3", 28 },
    .{ "Eb3", 28 },
    .{ "E3", 29 },
    .{ "F3", 30 },
    .{ "Fs3", 31 },
    .{ "Gb3", 31 },
    .{ "G3", 32 },
    .{ "Gs3", 33 },
    .{ "Ab3", 33 },
    .{ "A3", 34 },
    .{ "As3", 35 },
    .{ "Bb3", 35 },
    .{ "B3", 36 },

    .{ "C4", 37 },
    .{ "Cs4", 38 },
    .{ "Db4", 38 },
    .{ "D4", 39 },
    .{ "Ds4", 40 },
    .{ "Eb4", 40 },
    .{ "E4", 41 },
    .{ "F4", 42 },
    .{ "Fs4", 43 },
    .{ "Gb4", 43 },
    .{ "G4", 44 },
    .{ "Gs4", 45 },
    .{ "Ab4", 45 },
    .{ "A4", 46 },
    .{ "As4", 47 },
    .{ "Bb4", 47 },
    .{ "B4", 48 },

    .{ "C5", 49 },
    .{ "Cs5", 50 },
    .{ "Db5", 50 },
    .{ "D5", 51 },
    .{ "Ds5", 52 },
    .{ "Eb5", 52 },
    .{ "E5", 53 },
    .{ "F5", 54 },
    .{ "Fs5", 55 },
    .{ "Gb5", 55 },
    .{ "G5", 56 },
    .{ "Gs5", 57 },
    .{ "Ab5", 57 },
    .{ "A5", 58 },
    .{ "As5", 59 },
    .{ "Bb5", 59 },
    .{ "B5", 60 },

    .{ "C6", 61 },
    .{ "Cs6", 62 },
    .{ "Db6", 62 },
    .{ "D6", 63 },
    .{ "Ds6", 64 },
    .{ "Eb6", 64 },
    .{ "E6", 65 },
    .{ "F6", 66 },
    .{ "Fs6", 67 },
    .{ "Gb6", 67 },
    .{ "G6", 68 },
    .{ "Gs6", 69 },
    .{ "Ab6", 69 },
    .{ "A6", 70 },
    .{ "As6", 71 },
    .{ "Bb6", 71 },
    .{ "B6", 72 },
});

// 12th root of 2.0
const half_step = 1.0594630943593;

fn up(freq: f64, n: i64) f64 {
    var res = freq;
    if (n > 0) {
        for (0..n) |_| {
            res *= half_step;
        }
    } else {
        for (0..-n) |_| {
            res /= half_step;
        }
    }
    return res;
}

pub const frequencies = [_]f64{
    0.0,
    up(55.0, -9), // C1
    up(55.0, -8), // Cs1
    up(55.0, -7), // D1
    up(55.0, -6), // Ds1
    up(55.0, -5), // E1
    up(55.0, -4), // F1
    up(55.0, -3), // Fs1
    up(55.0, -2), // G1
    up(55.0, -1), // Gs1
    55.0, // A1
    up(55.0, 1), // As1
    up(55.0, 2), // B1

    up(110.0, -9), // C2
    up(110.0, -8), // Cs2
    up(110.0, -7), // D2
    up(110.0, -6), // Ds2
    up(110.0, -5), // E2
    up(110.0, -4), // F2
    up(110.0, -3), // Fs2
    up(110.0, -2), // G2
    up(110.0, -1), // Gs2
    110.0, // A2
    up(110.0, 1), // As2
    up(110.0, 2), // B2

    up(220.0, -9), // C3
    up(220.0, -8), // Cs3
    up(220.0, -7), // D3
    up(220.0, -6), // Ds3
    up(220.0, -5), // E3
    up(220.0, -4), // F3
    up(220.0, -3), // Fs3
    up(220.0, -2), // G3
    up(220.0, -1), // Gs3
    220.0, // A3
    up(220.0, 1), // As3
    up(220.0, 2), // B3

    up(440.0, -9), // C4
    up(440.0, -8), // Cs4
    up(440.0, -7), // D4
    up(440.0, -6), // Ds4
    up(440.0, -5), // E4
    up(440.0, -4), // F4
    up(440.0, -3), // Fs4
    up(440.0, -2), // G4
    up(440.0, -1), // Gs4
    440.0, // A4
    up(440.0, 1), // As4
    up(440.0, 2), // B4

    up(880.0, -9), // C5
    up(880.0, -8), // Cs5
    up(880.0, -7), // D5
    up(880.0, -6), // Ds5
    up(880.0, -5), // E5
    up(880.0, -4), // F5
    up(880.0, -3), // Fs5
    up(880.0, -2), // G5
    up(880.0, -1), // Gs5
    880.0, // A5
    up(880.0, 1), // As5
    up(880.0, 2), // B5

    up(1760.0, -9), // C6
    up(1760.0, -8), // Cs6
    up(1760.0, -7), // D6
    up(1760.0, -6), // Ds6
    up(1760.0, -5), // E6
    up(1760.0, -4), // F6
    up(1760.0, -3), // Fs6
    up(1760.0, -2), // G6
    up(1760.0, -1), // Gs6
    1760.0, // A6
    up(1760.0, 1), // As6
    up(1760.0, 2), // B6
};
